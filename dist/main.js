(()=>{"use strict";class e{_pos={};constructor(e,t){this._pos.x=e,this._pos.y=t,console.log("ClientPos",this._pos)}restore(){return this._pos}}class t{_pos={};constructor(e,t,s){this._systemRatio=s;const o=window.devicePixelRatio/this._systemRatio;this._pos.x=e*o,this._pos.y=t*o,console.log("RatioIndependentPos",this._pos)}restore(){const e=window.devicePixelRatio/this._systemRatio;return{x:this._pos.x/e,y:this._pos.y/e}}}class s{_pos={};_systemRatio;constructor(e,t,s){this._systemRatio=s;const o=window.devicePixelRatio/this._systemRatio,i=window.screenX/o,n=window.screenY/o;this._pos.x=e+i,this._pos.y=t+n,console.log("WindowIndependentPos",this._pos)}restore(){const e=window.devicePixelRatio/this._systemRatio,t=window.screenX/e,s=window.screenY/e;return{x:this._pos.x-t,y:this._pos.y-s}}}class o{_pos={};constructor(e,t,s){this._systemRatio=s;const o=window.devicePixelRatio/this._systemRatio,i=window.screenX,n=window.screenY;this._pos.x=e*o+i,this._pos.y=t*o+n,console.log("RatioWindowIndependentPos",this._pos)}restore(){const e=window.devicePixelRatio/this._systemRatio,t=window.screenX,s=window.screenY;return{x:(this._pos.x-t)/e,y:(this._pos.y-s)/e}}}const i={};class n{_pos={};constructor(e,t,s){this._systemRatio=s;const o=window.devicePixelRatio/this._systemRatio,n=window.screenX+i.x,c=window.screenY+i.y;this._pos.x=e*o+n,this._pos.y=t*o+c,console.log("RatioViewportIndependentPos",this._pos)}restore(){const e=window.devicePixelRatio/this._systemRatio,t=window.screenX+i.x,s=window.screenY+i.y;return{x:(this._pos.x-t)/e,y:(this._pos.y-s)/e}}}const c=document.getElementById("canvas");c.width=window.innerWidth+window.scrollX,c.height=window.innerHeight+window.scrollY;const r=c.getContext("2d");let l=c.width,d=c.height;r.lineWidth=.5,r.strokeStyle="rgba(252, 17, 201, 1";const w=document.getElementById("scaling-form"),a=document.getElementById("ratio-form"),h=document.getElementById("device-width");let u;a.addEventListener("change",(()=>{const e=a.elements["ratio-option"].value;h.disabled="resolution"!==e})),c.addEventListener("mouseup",(i=>{let c;switch(a.elements["ratio-option"].value){case"resolution":c=function(e){const t=e/screen.width;return console.log("systemRatioByResolution",t),t}(Number(h.value));break;case"fullscreen":c=function(){const e=screen.width/window.innerWidth,t=devicePixelRatio/e;return console.log("systemRatioByFullscreen",t),t}()}switch(w.elements["scaling-option"].value){case"client":u=new e(i.clientX,i.clientY);break;case"ratio":u=new t(i.clientX,i.clientY,c);break;case"window":u=new s(i.clientX,i.clientY,c);break;case"ratio-window":u=new o(i.clientX,i.clientY,c);break;case"ratio-viewport":u=new n(i.clientX,i.clientY,c)}}));const m=()=>{if(u){const{x:e,y:t}=u.restore();null!=e&&null!=t&&(r.clearRect(0,0,l,d),r.beginPath(),r.ellipse(e,t,20,20,0,0,2*Math.PI),r.moveTo(0,t),r.lineTo(l,t),r.moveTo(e,0),r.lineTo(e,d),r.stroke())}window.requestAnimationFrame(m)};window.requestAnimationFrame(m),window.addEventListener("mousemove",(e=>{!function(e){const t=window.devicePixelRatio/1.25;i.x=e.screenX-e.clientX*t,i.y=e.screenY-e.clientY*t}(e)})),document.getElementById("request-fullscreen").addEventListener("click",(()=>{document.documentElement.requestFullscreen()})),document.getElementById("exit-fullscreen").addEventListener("click",(()=>{document.exitFullscreen()}))})();